\chapter{Introdução}
\label{cap:intro}


A tolerância a falhas (TF) refere-se à capacidade de um sistema computacional de manter sua qualidade de serviço mesmo na presença de estados adversos. Esta propriedade tornou-se cada vez mais crítica com a expansão da computação para ambientes hostis e aplicações de missão crítica. Sistemas distribuídos, por exemplo, são particularmente vulneráveis a falhas em seus canais de comunicação, que estão sujeitos a degradação ou inoperabilidade total devido à interferência eletromagnética, falta de energia e eventos climáticos \cite{FaultTolerantSystems}.

Sistemas embarcados, que constituem o foco deste trabalho, podem enfrentar desafios mais complexos, além das falhas de comunicação supracitadas, estes sistemas podem ter seus dados em memória ou registradores diretamente corrompidos por causas externas como: radiação ionizante, flutuações extremas de temperatura ou voltagem, e colisões físicas  \cite{DependabilityInEmbeddedSystems}.

O contexto atual da indústria adiciona camadas adicionais de complexidade ao problema. Nos últimos anos, observou-se uma maior adoção de sistemas COTS (Commercial Off-The-Shelf) em aplicações que tradicionalmente utilizariam hardware especializado \cite{CyberSecSpaceCOTS}. Esta tendência é motivada tanto por fatores econômicos quanto por restrições regulatórias, como as impostas pelo ITAR (International Traffic in Arms Regulations) dos Estados Unidos, que limitam a exportação de certas tecnologias \cite{ITARPCBCompliance}. Consequentemente, fabricantes e desenvolvedores em diversos países precisam implementar tolerância à falhas através de técnicas em software, já que soluções robustas em hardware nem sempre estão disponíveis em sistemas COTS.

A presença dos fenômenos adversos mencionados exige que os dispositivos estejam adequadamente preparados, especialmente em aplicações críticas onde as consequências de um erro podem ser catastróficas. Exemplos incluem sistemas de controle automotivo, equipamentos médicos, sistemas de navegação aeroespaciale infraestrutura energética e de telecomunicações  \cite{FaultTolerantSystems}.

Tornar um sistema tolerante à falhas é um problema multi facetado, ambas soluções em hardware e software necessitam ser abordadas para garantir a qualidade de serviço desejada. O escalonador é o componente crucial de um sistema operacional para a execução concorrente de diversas tarefas \cite{OperatingSystemConcepts}. O processo de detecção das falhas e seu custo de tempo de CPU e uso de memória deve ser considerado pois a reação rápida e correta às falhas requer previamente a detecção e elaboração das rotinas de escalonamento de forma adequada \cite{DependabilityInEmbeddedSystems}.

Este trabalho visa portanto fazer uma análise do impacto de diferentes técnicas de tolerância à falhas durante o escalonamento de tarefas e seu impacto na performance de um sistema, para que se possa melhor compreender e evidenciar os custos e benefícios ao tornar um sistema mais resiliente. 

\section{Problematização}

Sistemas embarcados estão presentes em diversos contextos como: exploração espacial, indústria automotiva, tecnologia médica, dispositivos de baixo consumo energético e sistemas distribuídos no contexto IoT. Portanto, entende-se que manter alto grau da qualidade de serviço com o mínimo de degradação de performance e aumento de custo (monetário ou energético), pode prover uma vantagem econômica para fabricantes e provedores assim como um benefício social na maior confiabilidade no caso de aplicações críticas. \cite{DependabilityInEmbeddedSystems}.

Ademais, ocorreu nos últimos anos uma maior adoção de sistemas COTS (Commercial off the shelf), por poderem ser economicamente mais viáveis e fornecerem uma solução "genérica" para problemas que anteriormente necessitariam de hardware especializado \cite{CyberSecSpaceCOTS}. E mesmo caso pretenda-se utilizar um design especializado para o produto, estes sistemas são úteis para a fase de prototipação e validação do projeto, dado sua facilidade de acesso e flexibilidade.

Um outro fator que influencia na adoção do uso de COTS para certas aplicações que necessitam de tolerância à falhas são as regulações ITAR (International Traffic in Arms Regulations) imposta pelos Estados Unidos que restringe a exportação de diversas tecnologias de cunho potencialmente militar. Neste caso, o impedimento da exportação certos tipos  tecnologias de PCBs e firmware aumenta mais ainda a necessidade de compradores de outros países adquirirem alternativas comerciais mais comuns que já são complacentes com a regulação \cite{ITARPCBCompliance}.

O custo de utilizar técnicas de tolerância é sensível ao contexto da aplicação e ao nível de tolerância desejado, e no caso dos sistemas COTS, técnicas robustas de resiliência em hardware nem sempre estão disponíveis, sendo necessário delegar esta funcionalidade para a aplicação. É necessário escolher a técnica de tolerância mais adequada de uma multidão de técnicas. Para que a escolha seja informada, é essencial que as trocas em termos de performance e grau de confiabilidade adquiridos sejam compreendidos para minimizar o custo de manter uma qualidade de serviço desejada.

\subsection{Solução Proposta}

Implementar e comparar técnicas de escalonamento com detecção de erros, com o objetivo de esclarecer o impacto de performance em relação ao ganho de dependabilidade do sistema, particularmente no contexto de sistemas com restrição \textit{Hard Real Time}, pois se uma técnica é capaz de satisfazer o critério de tempo real mais rígido, também poderá ser usada em contextos com critério temporal mais relaxado.

\section{Objetivos}

Esta seção formaliza os objetivos do trabalho, conforme descrito a seguir.

\bigskip
\subsection{Objetivo Geral}

Analisar o impacto de técnicas de tolerância à falhas em software num sistema operacional de tempo real.

\bigskip
\subsection{Objetivos Específicos}

\begin{enumerate}
    \item Selecionar técnicas de tolerância à falhas em software
    \item Implementar técnicas escolhidas com uma interface para uso
    \item Realizar testes com de injeção de falhas e coletar métricas de performance das técnicas
    \item Produzir uma análise comparativa das técnicas, seus custos e eficácia
\end{enumerate}

\section{Metodologia}

O objetivo do trabalho é descritivo e exploratório, as métricas coletadas são de caráter quantitativo e conclusões e observações derivadas do trabalho serão realizadas de maneira indutiva baseadas nas métricas de performance coletadas e comparadas.

Foi realizado uma pesquisa bibliográfica para a fundamentação e escolha das técnicas e dos materiais do trabalho, sendo esta primariamente focada em autores com obras associadas ao tema de tolerância assim como temas adjacentes relevantes como sistemas operacionais e interface hardware-software.

Após isso será realizado uma implementação e testes das técnicas escolhidas para validação, e uma campanha de injeção de falhas será realizada em um microcontrolador para a coleta final das métricas no \autoref{cap:proj}.

\section{Estrutura do Trabalho}

No \autoref{cap:fund} serão explorados os tópicos centrais que constituem a premissa do trabalho, primariamente conceitos de detecção de falhas e escalonamento nos sistemas operacionais. Sistemas operacionais são um tópico particularmente vasto, portanto sua abordagem será focada apenas nos aspectos mais essenciais para o trabalho. No \autoref{cap:proj} é definido o projeto e o plano de verificação para a implementação e análise das técnicas descritas seguido de sua implementação no \autoref{cap:desenvolvimento}. No \autoref{cap:resultados} são expostos os resultados dos testes realizados e no \autoref{cap:conclusoes} é realizado uma recapitulação do que foi abordado no trabalho e quais temas podem ser expandidos por trabalhos futuros

